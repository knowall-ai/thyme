@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap');
@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@theme {
  /* KnowAll.ai brand colors - Dark theme with green accent */
  --color-knowall-green: #00d26a;
  --color-knowall-green-light: #00ff7f;
  --color-knowall-green-dark: #00b359;
  --color-knowall-green-glow: rgba(0, 210, 106, 0.3);

  /* Dark theme backgrounds */
  --color-dark-50: #f8fafc;
  --color-dark-100: #f1f5f9;
  --color-dark-200: #e2e8f0;
  --color-dark-300: #cbd5e1;
  --color-dark-400: #94a3b8;
  --color-dark-500: #64748b;
  --color-dark-600: #475569;
  --color-dark-700: #334155;
  --color-dark-800: #1e293b;
  --color-dark-850: #172033;
  --color-dark-900: #0f172a;
  --color-dark-950: #020617;

  /* Thyme accent (matching KnowAll green) */
  --color-thyme-50: #ecfdf5;
  --color-thyme-100: #d1fae5;
  --color-thyme-200: #a7f3d0;
  --color-thyme-300: #6ee7b7;
  --color-thyme-400: #34d399;
  --color-thyme-500: #00d26a;
  --color-thyme-600: #00b359;
  --color-thyme-700: #059669;
  --color-thyme-800: #047857;
  --color-thyme-900: #065f46;
  --color-thyme-950: #022c22;

  /* Fonts */
  --font-family-sans: 'Inter', system-ui, sans-serif;
  --font-family-mono: 'JetBrains Mono', 'Fira Code', monospace;

  /* Custom animations */
  --animate-pulse-slow: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-float: float 6s ease-in-out infinite;
  --animate-glow: glow 2s ease-in-out infinite alternate;

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  @keyframes glow {
    0% {
      box-shadow: 0 0 20px rgba(0, 210, 106, 0.2);
    }
    100% {
      box-shadow: 0 0 30px rgba(0, 210, 106, 0.4);
    }
  }
}

:root {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 2, 6, 23;
  --background-end-rgb: 15, 23, 42;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
    to bottom,
    rgb(var(--background-start-rgb)),
    rgb(var(--background-end-rgb))
  );
  min-height: 100vh;
}

@layer base {
  html {
    @apply antialiased;
  }

  /* Restore cursor-pointer for interactive elements (Tailwind 4 removed this from preflight) */
  button,
  [role='button'],
  [type='button'],
  [type='submit'],
  [type='reset'],
  select,
  summary {
    cursor: pointer;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .glow-green {
    box-shadow: 0 0 20px rgba(0, 210, 106, 0.3);
  }

  .glow-green-lg {
    box-shadow: 0 0 40px rgba(0, 210, 106, 0.4);
  }

  .gradient-text {
    @apply from-knowall-green to-thyme-300 bg-gradient-to-r bg-clip-text text-transparent;
  }

  .bg-grid-pattern {
    background-image:
      linear-gradient(to right, rgba(30, 41, 59, 0.5) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(30, 41, 59, 0.5) 1px, transparent 1px);
    background-size: 40px 40px;
  }
}

/* Custom scrollbar for dark theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #0f172a;
}

::-webkit-scrollbar-thumb {
  background: #334155;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #475569;
}

/* Selection styling */
::selection {
  background-color: rgba(0, 210, 106, 0.3);
  color: white;
}

/* Print styles for PDF export */
@media print {
  /* Page setup - minimal margins for full background coverage */
  @page {
    size: A4;
    margin: 0;
  }

  /* Preserve exact colors for PDF (not physical print) */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Scale down text slightly for print */
  html {
    font-size: 10px !important;
  }

  /* Full page background coverage */
  html,
  body {
    height: 100% !important;
    min-height: 100% !important;
    background-color: #020617 !important;
  }

  body {
    padding: 0.5cm !important;
    padding-bottom: 1cm !important;
  }

  /* Hide the fixed grid pattern in print */
  .fixed.inset-0 {
    display: none !important;
  }

  /* Make layout not push footer to bottom - target the outer wrapper */
  .bg-dark-950.min-h-screen {
    min-height: auto !important;
    height: auto !important;
  }

  /* Disable animations during print */
  *,
  *::before,
  *::after {
    animation: none !important;
    transition: none !important;
  }

  /* Hide nav links but show header with logo */
  header nav {
    display: none !important;
  }

  /* Footer - transparent background, just text */
  footer {
    background-color: transparent !important;
    border-top: none !important;
  }

  /* Spacing reduction for one-page fit */
  .space-y-6 > * + * {
    margin-top: 0.75rem !important;
  }

  .space-y-4 > * + * {
    margin-top: 0.5rem !important;
  }

  /* Preserve original grid gaps (gap-4 = 16px) */
  .gap-4 {
    gap: 16px !important;
  }

  /* Smaller padding in cards */
  .p-4 {
    padding: 0.4rem !important;
  }

  .p-6 {
    padding: 0.6rem !important;
  }

  /* Reduce main content padding, but keep bottom margin for spacing before footer */
  main {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5cm !important;
  }

  /* Prevent page breaks inside cards */
  [class*='rounded-lg'] {
    break-inside: avoid;
  }

  /* Ensure charts/tables don't get split */
  table {
    break-inside: avoid;
  }

  svg {
    break-inside: avoid;
  }

  /* Compact table rows */
  tr {
    line-height: 1.2 !important;
  }

  td,
  th {
    padding-top: 0.2rem !important;
    padding-bottom: 0.2rem !important;
  }
}
